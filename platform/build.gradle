plugins {
    id "application"
}

dependencies {
    implementation(project(":cloud-lib:rest"))
    implementation("io.netty:netty-transport-native-epoll:$nettyVersion:linux-x86_64")
}

var launcherClassName = "io.vertx.core.Launcher"

var verticleClassName = "com.zclcs.platform.system.PlatformSystemVerticle"

application {
    mainClass = launcherClassName
}

shadowJar {
    archiveClassifier = "fat"

    manifest {
        attributes(
                "Main-Class": launcherClassName,
                "Main-Verticle": verticleClassName
        )
    }

    archiveBaseName.set("platform")

    mergeServiceFiles()
}